(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[291],{3492:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(0),r=a.n(l),c=a(52),i=a(2465),u=a(31),m=a(104),s=a(70),o=a(693),d=a(1389),p=a(300),b=a(1684),v=a(613),f=a(692),g=a(1449),O=a(153),E=a.n(O),j=a(4);t.default=function(){var e=Object(l.useState)(1),t=Object(n.a)(e,2),a=t[0],O=(t[1],Object(l.useState)("")),y=Object(n.a)(O,2),h=y[0],S=y[1],N=Object(l.useState)(""),_=Object(n.a)(N,2),x=_[0],C=_[1],w=Object(l.useState)(""),z=Object(n.a)(w,2),T=z[0],P=z[1],I=Object(l.useState)(""),U=Object(n.a)(I,2),M=U[0],D=U[1],W=Object(l.useState)(""),F=Object(n.a)(W,2),V=F[0],k=F[1],q=Object(l.useState)("1"),A=Object(n.a)(q,2),R=A[0],L=A[1],J=Object(l.useState)(""),B=Object(n.a)(J,2),G=B[0],H=B[1],Q=Object(l.useState)(""),Y=Object(n.a)(Q,2),K=Y[0],X=Y[1],Z=Object(l.useState)(""),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)(""),ne=Object(n.a)(ae,2),le=ne[0],re=ne[1],ce=Object(l.useState)(""),ie=Object(n.a)(ce,2),ue=ie[0],me=ie[1],se=Object(l.useState)(""),oe=Object(n.a)(se,2),de=oe[0],pe=oe[1],be=Object(l.useState)(""),ve=Object(n.a)(be,2),fe=ve[0],ge=ve[1],Oe=Object(l.useState)(""),Ee=Object(n.a)(Oe,2),je=Ee[0],ye=Ee[1],he=Object(l.useState)(""),Se=Object(n.a)(he,2),Ne=Se[0],_e=Se[1],xe=Object(l.useState)([]),Ce=Object(n.a)(xe,2),we=(Ce[0],Ce[1],Object(l.useState)([])),ze=Object(n.a)(we,2),Te=ze[0],Pe=ze[1],Ie=Object(l.useState)([]),Ue=Object(n.a)(Ie,2),Me=Ue[0],De=Ue[1],We=Object(l.useState)([]),Fe=Object(n.a)(We,2),Ve=Fe[0],ke=Fe[1],qe=Object(u.g)(),Ae=Object(l.useState)(!0),Re=Object(n.a)(Ae,2),Le=Re[0],Je=Re[1],Be=Object(l.useState)([]),Ge=Object(n.a)(Be,2),He=(Ge[0],Ge[1]),Qe=Object(l.useState)([]),Ye=Object(n.a)(Qe,2),Ke=(Ye[0],Ye[1]),Xe=Object(l.useState)(),Ze=Object(n.a)(Xe,2),$e=(Ze[0],Ze[1]),et=Object(l.useState)(""),tt=Object(n.a)(et,2),at=(tt[0],tt[1]),nt=Object(l.useState)(""),lt=Object(n.a)(nt,2),rt=lt[0],ct=lt[1],it=Object(l.useState)(""),ut=Object(n.a)(it,2),mt=ut[0],st=ut[1],ot=Object(s.a)().user,dt=window.location.search,pt=(new URLSearchParams(dt),Object(u.i)().id),bt=Object(l.useState)([]),vt=Object(n.a)(bt,2),ft=vt[0],gt=vt[1];Object(l.useEffect)((function(){return j.g.get("mjrProductUpdate/"+pt).then((function(e){var t,a,n,l=e.data;Le&&He(l),gt(null===l||void 0===l?void 0:l.uom),C(l.product[0].description),P(l.product[0].file),ge(l.product[0].name_in_ar),D(l.product[0].unit_of_measure),$e(l.product[0].category_id),S(l.product[0].name),De(null===l||void 0===l||null===(t=l.getAllCat)||void 0===t?void 0:t.filter((function(e){return e.div_id==localStorage.getItem("division")}))),k(l.product[0].category_name),L(l.product[0].category_id),pe(l.product[0].manufacturer_id),me(l.product[0].modelno),ye(null===(a=l.product[0])||void 0===a?void 0:a.brand_name),_e(null===(n=l.product[0])||void 0===n?void 0:n.ecapacity),X(l.product[0].hsn_code),H(l.product[0].type),te(l.product[0].initial_quantity),re(l.product[0].minimum_quantity),at(l.product[0].id),at(l.product[0].party_id),me(l.product[0].model_no),Ke(l.product_in_category),Pe(l.manufacture.filter((function(e){return e.div_id==localStorage.getItem("division")})))})),function(){return Je(!1)}}),[]);var Ot=Te.map((function(e,t){return{label:e.name,value:e.id,key:t}}));return r.a.createElement("div",{className:"m-sm-30"},r.a.createElement("div",{className:"mb-sm-30"},r.a.createElement(m.b,{routeSegments:[{name:"PRODUCT CATEGORY",path:"/product/viewsubcategory"},{name:"UPDATE PRODUCT"}]})),r.a.createElement(d.a,{className:"p-4"},r.a.createElement(c.ValidatorForm,{onSubmit:function(){var e=new FormData;e.append("id",pt),e.append("name",h||""),e.append("description",x||""),e.append("unit_of_measure",M),e.append("division_id",a),e.append("type",G),e.append("hsn_code",K),e.append("initial_quantity",ee),e.append("minimum_quantity",le),e.append("category_id",R),e.append("model_no",ue),e.append("manufacturer_id",de),e.append("div_id",localStorage.getItem("division")),e.append("user_id",ot.id),e.append("file",mt),e.append("brand_name",je),e.append("ecapacity",Ne),e.append("name_in_ar",h),j.g.post("product-update/"+pt,e).then((function(e){E.a.fire({title:"Success",type:"success",icon:"success",text:"Data saved successfully."}).then((function(e){R?qe.push(j.w+"/singleproduct/".concat(pt)):qe.push(j.w+"/product/viewsubcategory")}))})).catch((function(e){}))},onError:function(){return null}},r.a.createElement(p.a,{container:!0,spacing:6},r.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement("h6",null,"UPDATE PRODUCT DETAILS"),r.a.createElement(c.TextValidator,{className:"mb-4 mt-2 w-full",label:"Product Name",variant:"outlined",size:"small",value:h,onChange:function(e){return S(e.target.value)},type:"text",name:"product",inputProps:{style:{textTransform:"capitalize"}}}),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",variant:"outlined",size:"small",value:fe,onChange:function(e){return ge(e.target.value)},type:"text",name:"product"}),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"Description",type:"text",size:"small",multiline:!0,value:x,onChange:function(e){return C(e.target.value)},name:"description",variant:"outlined",inputProps:{style:{textTransform:"capitalize"}}}),r.a.createElement("div",{className:"flex mb-4"},r.a.createElement("div",{style:{width:"300px"},className:"mr-2"},r.a.createElement(o.a,{htmlFor:"UOM",style:{fontSize:10}},"UOM"),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",size:"small",select:!0,value:M,name:"uom",variant:"outlined",onChange:function(e){return D(e.target.value)},inputProps:{style:{textTransform:"capitalize"}}},r.a.createElement(b.a,{value:""},"Choose UOM"),ft.map((function(e){return r.a.createElement(b.a,{value:e.value},e.label)})))),r.a.createElement("div",{style:{width:"350px"},className:"ml-2"},r.a.createElement(o.a,{style:{fontSize:10}},"Manufacture"),r.a.createElement(i.a,{name:"Manufacture",menuPortalTarget:document.body,size:"small",fullWidth:!0,InputLabel:"Manufacture",onChange:function(e){return pe(e.value)},variant:"contained",value:Ot.find((function(e){return e.value===de})),options:Ot}))),5==localStorage.getItem("division")?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"Brand Name",variant:"outlined",size:"small",value:je,inputProps:{style:{textTransform:"uppercase"}},onChange:function(e){return ye(e.target.value)},type:"text",name:"bname",required:!0})):""),r.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement("div",{className:"flex mb-4 mt-8"},r.a.createElement(v.a,{className:"mr-2",variant:"outlined",label:"Product Type",size:"small",value:G,fullWidth:!0,onChange:function(e){return H(e.target.value)},select:!0},["Non Inventory","Inventory","Service"].map((function(e){return r.a.createElement(b.a,{value:e,key:e},e)}))),r.a.createElement(v.a,{className:"ml-2",label:"HSN number",size:"small",variant:"outlined",onChange:function(e){return X(e.target.value)},type:"text",name:"hsn",value:K,fullWidth:!0})),r.a.createElement("div",{className:"flex mb-4"},r.a.createElement(v.a,{className:"mr-2",label:"Initial quantity",variant:"outlined",onChange:function(e){return te(e.target.value)},value:ee,size:"small",type:"number",fullWidth:!0,validators:["isNumber"],errorMessages:["Invalid Number"]}),r.a.createElement(v.a,{className:"ml-2",fullWidth:!0,label:"Minimum Quantity",variant:"outlined",value:le,size:"small",type:"number",onChange:function(e){return re(e.target.value)},validators:["isNumber"],errorMessages:["Invalid Number"]})),r.a.createElement("div",{className:"flex mb-4"},null==V?r.a.createElement(v.a,{className:"mr-2",label:"Category",variant:"outlined",select:!0,onChange:function(e){var t=Me.filter((function(t){return t.parent_id==e.target.value}));ke(t)},fullWidth:!0,size:"small"},r.a.createElement(b.a,null,"Choose Category"),Me.filter((function(e){return null==e.parent_id})).map((function(e,t){return r.a.createElement(b.a,{key:t,value:e.id},e.name)}))):r.a.createElement(v.a,{className:"mr-2",label:"Sub Category",variant:"outlined",onChange:function(e){return k(e.value)},value:V,fullWidth:!0,size:"small",readonly:!0}),Ve.length>0&&r.a.createElement(v.a,{className:"mr-2",label:"Sub Category",variant:"outlined",select:!0,onChange:function(e){L(e.target.value)},fullWidth:!0,size:"small"},r.a.createElement(b.a,null,"Choose Sub Category"),Ve.filter((function(e){return null!==e.parent_id})).map((function(e,t){return r.a.createElement(b.a,{value:e.id,key:t},e.name)}))),r.a.createElement(v.a,{className:"ml-2",label:"Model number",size:"small",variant:"outlined",onChange:function(e){return me(e.target.value)},type:"text",name:"hsn",value:ue,fullWidth:!0})),5==localStorage.getItem("division")?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"Capacity",variant:"outlined",size:"small",value:Ne,inputProps:{style:{textTransform:"capitalize"}},onChange:function(e){return _e(e.target.value)},type:"text",name:"ecapacity",required:!0})):"",r.a.createElement("div",{className:"flex mb-4"}))),5==localStorage.getItem("division")?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"upload-multiple-file"},r.a.createElement(f.a,{className:"",color:"primary",component:"span",variant:"contained"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(g.a,{className:"pr-8"},"cloud_upload"),r.a.createElement("span",null,"Upload File")))),r.a.createElement("input",{className:"hidden",onChange:function(e){return function(e,t){var a=e.target.files[0],n=URL.createObjectURL(e.target.files[0]);ct(n),st(a)}(e)},id:"upload-multiple-file",type:"file",multiple:!0}),rt?r.a.createElement("img",{width:"50px",height:"50px",src:rt}):r.a.createElement("img",{width:"50px",height:"50px",src:"https://www.amacoerp.com/test/amaco_test/public/"+T,alt:"Please upload image"})):"",r.a.createElement("div",{className:"flex mb-4"},r.a.createElement(f.a,{color:"primary",className:"mr-4 py-2",variant:"outlined",type:"submit"},r.a.createElement(g.a,null,"save"),r.a.createElement("span",{className:"pl-2 capitalize"},"SAVE")),r.a.createElement(f.a,{className:"mr-4 py-2",color:"secondary",variant:"outlined",type:"submit",onClick:function(){return qe.push("/singleproduct/".concat(pt))}},r.a.createElement(g.a,null,"cancel"),r.a.createElement("span",{className:"pl-2 capitalize"},"CANCEL"))))))}}}]);