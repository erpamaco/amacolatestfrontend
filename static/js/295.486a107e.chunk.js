(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[295],{3584:function(e,a,t){"use strict";t.r(a);var n=t(7),l=t(19),r=t(0),c=t.n(r),m=t(691),i=t(1449),s=t(1697),o=t(2152),d=t(1405),u=t(1407),b=t(18),f=t(2510),p=t(13),E=t(16),v=t(1385),N=t(1472),x=t(417),h=t(692),g=t(2122),j=t(613),O=t(300),y=t(1389),k=t(1684),C=t(61),w=t(133),z=t(2365),I=t.n(z),S=t(104),A=t(242),P=t(65),T=function(e){var a=e.open,t=e.card,l=e.handleClose,f=Object(r.useState)({}),z=Object(b.a)(f,2),T=z[0],D=z[1],M=Object(A.c)(),L=Object(C.a)(),B=Object(v.a)(L.breakpoints.down("sm")),K=Object(A.d)((function(e){return e})).user,R=void 0===K?{}:K,_=Object(A.d)((function(e){return e.scrumboard})),W=_.board,H=void 0===W?{}:W,F=_.memberList,J=void 0===F?[]:F,U=_.labelList,q=void 0===U?[]:U,G=function(){l()},Q=function(e){var a=e.target,t=a.value;if("avatar"===a.name){var l=T.cardMembers,r=T.boardMembers.find((function(e){return e.id===t}));a.checked?(l.push(r),D(Object(n.a)(Object(n.a)({},T),{},{cardMembers:l}))):(l.splice(l.indexOf(r),1),D(Object(n.a)(Object(n.a)({},T),{},{cardMembers:l})))}else if("label"===a.name){var c=T.labels,m=q.find((function(e){return e.id===parseInt(t)}));a.checked?(c.push(m),D(Object(n.a)(Object(n.a)({},T),{},{labels:c}))):(c.splice(c.indexOf(m),1),D(Object(n.a)(Object(n.a)({},T),{},{labels:c})))}else"Enter"!==e.key||e.shiftKey||"commentText"!==a.name?D(Object(n.a)(Object(n.a)({},T),{},Object(E.a)({},e.target.name,e.target.value))):(D(Object(n.a)(Object(n.a)({},T),{},Object(E.a)({},e.target.name,e.target.value))),V())},V=function(){var e=T.comments,a=void 0===e?[]:e,t=T.commentText;""!==t.trim()&&(a.push({id:Object(w.c)(),uid:R.userId,text:t.trim(),time:new Date}),t=""),D(Object(n.a)(Object(n.a)({},T),{},{comments:a,commentText:t}))};Object(r.useEffect)((function(){var e=t.members,a=void 0===e?[]:e,l=t.labels,r=void 0===l?[]:l,c=a.map((function(e){return J.find((function(a){return a.id===e}))})),m=r.map((function(e){return q.find((function(a){return a.id===e}))})),i=H.members.map((function(e){return J.find((function(a){return a.id===e.id}))}));D((function(e){return Object(n.a)(Object(n.a)(Object(n.a)({},e),t),{},{boardId:H.id,cardMembers:c,boardMembers:i,labels:Object(p.a)(m)})}))}),[t,q,J,H.id,H.members]);var X=T.title,Y=T.cardMembers,Z=void 0===Y?[]:Y,$=T.boardMembers,ee=void 0===$?[]:$,ae=T.labels,te=void 0===ae?[]:ae,ne=T.description,le=T.attachments,re=void 0===le?[]:le,ce=T.comments,me=void 0===ce?[]:ce,ie=T.commentText;return c.a.createElement(N.a,{onClose:G,open:a,fullScreen:B,fullWidth:!0,scroll:"body"},c.a.createElement("div",{className:"scrum-board"},c.a.createElement("div",{className:"px-sm-24 pt-sm-24"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:"flex items-center flex-grow"},c.a.createElement(i.a,{className:"text-muted"},"assignment"),c.a.createElement(x.a,{className:"flex-grow  ml-3 pl-3px pr-2 capitalize font-medium text-16",type:"text",autoFocus:!0,name:"title",onChange:Q,disableUnderline:!0,value:X})),c.a.createElement(m.a,{size:"small",onClick:G},c.a.createElement(i.a,null,"clear"))),c.a.createElement("div",{className:"ml-10"},c.a.createElement("p",{className:"m-0 mb-4 text-small text-muted"},"Tech Startup Board Hot Backlog"),c.a.createElement("div",{className:"mb-4 flex flex-wrap justify-between"},c.a.createElement("div",null,c.a.createElement("h6",{className:"m-0 mb-2 uppercase text-muted"},"Card Members"),c.a.createElement("div",{className:"flex relative face-group"},Z.map((function(e){return c.a.createElement(o.a,{key:e.id,className:"avatar",src:e.avatar})})),c.a.createElement(S.n,{horizontalPosition:"center",shouldCloseOnItemClick:!1,menuButton:c.a.createElement(s.a,{title:"Add",fontSize:"large"},c.a.createElement(o.a,{className:"avatar ml--3 cursor-pointer"},"+"))},ee.map((function(e){return c.a.createElement(d.a,{className:"ml-0",key:e.id,control:c.a.createElement(u.a,{name:"avatar",checked:Z.some((function(a){return a.id===e.id})),onChange:Q,value:e.id}),label:c.a.createElement("div",{className:"flex items-center"},c.a.createElement(o.a,{src:e.avatar,className:"size-24"}),c.a.createElement("span",{className:"ml-3"},e.name))})}))))),c.a.createElement("div",null,c.a.createElement("h6",{className:"m-0 mb-2 pb-3px uppercase text-muted"},"labels"),c.a.createElement("div",{className:"button-group"},te.map((function(e){return c.a.createElement(h.a,{key:e.id,size:"small",variant:"contained",className:"capitalize mr-1 text-white text-small bg-".concat(e.color)},e.title)})),c.a.createElement(S.n,{horizontalPosition:"right",shouldCloseOnItemClick:!1,menuButton:c.a.createElement(s.a,{title:"Add",fontSize:"large"},c.a.createElement(h.a,{className:"bg-light-gray",size:"small"},"+"))},q.map((function(e){return c.a.createElement(d.a,{className:"ml-0",key:e.id,control:c.a.createElement(u.a,{checked:te.some((function(a){return a.id===e.id})),onChange:Q,value:e.id,name:"label"}),label:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:"border-radius-4 size-24 bg-".concat(e.color)}),c.a.createElement("span",{className:"ml-3"},e.title))})})))))))),c.a.createElement(g.a,null),c.a.createElement(I.a,{className:"relative pt-4 mb-4 max-h-380"},c.a.createElement("div",{className:"px-sm-24 pt-4"},c.a.createElement("div",{className:"flex items-center mb-2"},c.a.createElement(i.a,{className:"text-muted"},"description"),c.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"description")),c.a.createElement("div",{className:"ml-10 mb-4 flex"},c.a.createElement(j.a,{className:"text-muted",onChange:Q,name:"description",value:ne,variant:"outlined",fullWidth:!0,multiline:!0})),c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(i.a,{className:"text-muted"},"attach_file"),c.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"attachments")),c.a.createElement("label",{htmlFor:"upload-file"},c.a.createElement(h.a,{className:"text-primary uppercase font-medium",component:"span"},"+ add an attachment")),c.a.createElement("input",{className:"hidden",id:"upload-file",type:"file",multiple:!0})),c.a.createElement("div",{className:"ml-10 mb-4"},c.a.createElement(O.a,{container:!0,spacing:2},re.map((function(e,a){return c.a.createElement(O.a,{key:a,item:!0,lg:6,md:6,sm:12,xs:12},c.a.createElement(y.a,{className:"p-4 flex items-center bg-default h-full",elevation:2},c.a.createElement("div",{className:"flex items-center border-radius-8"},c.a.createElement("img",{className:"w-full",src:e.url,alt:"cover"})),c.a.createElement("div",{className:"ml-4"},c.a.createElement("h6",{className:"m-0 text-muted capitalize"},e.name),c.a.createElement("small",{className:"text-muted text-small capitalize"},e.size)),c.a.createElement(S.n,{horizontalPosition:"center",menuButton:c.a.createElement(m.a,{className:"ml-4"},c.a.createElement(i.a,null,"more_vert"))},c.a.createElement(k.a,{className:"flex items-center min-w-164",onClick:function(){return a=e.url,void D(Object(n.a)(Object(n.a)({},T),{},{coverImage:a}));var a}},c.a.createElement(i.a,null," insert_photo "),c.a.createElement("span",{className:"pl-4"}," Make Cover ")),c.a.createElement(k.a,{onClick:function(){return function(e){var a=T.attachments,t=void 0===a?[]:a;t.splice(e,1),D(Object(n.a)(Object(n.a)({},T),{},{attachments:t}))}(a)},className:"flex items-center min-w-164"},c.a.createElement(i.a,null," delete "),c.a.createElement("span",{className:"pl-4"}," Remove ")))))}))))),c.a.createElement(g.a,{className:"my-4"}),c.a.createElement("div",{className:"px-sm-24"},c.a.createElement("div",{className:"flex items-center mb-2"},c.a.createElement(i.a,{className:"text-muted"},"message"),c.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"comments")),c.a.createElement("div",{className:"comments ml-10"},me.map((function(e){var a=J.find((function(a){return a.id===e.uid}));return c.a.createElement("div",{className:"mb-4",key:e.id},c.a.createElement("div",{className:"flex items-center mb-2"},c.a.createElement(o.a,{className:"avatar size-36",src:a.avatar}),c.a.createElement("div",{className:"ml-3"},c.a.createElement("h6",{className:"m-0"},a.name),c.a.createElement("small",null,Object(w.d)(new Date(e.time))," ago"))),c.a.createElement("p",{className:"m-0 text-muted"},e.text))})),c.a.createElement("div",{className:"flex items-center mb-4"},c.a.createElement(o.a,{className:"avatar size-36",src:R.photoURL}),c.a.createElement("div",{className:"flex-grow flex"},c.a.createElement(j.a,{className:"ml-3 text-muted",onChange:Q,onKeyDown:Q,variant:"outlined",name:"commentText",value:ie||"",fullWidth:!0,inputProps:{style:{padding:"10px"}}})),c.a.createElement(h.a,{onClick:V},"Send"))))),c.a.createElement("div",{className:"px-sm-24 mb-3 flex justify-end"},c.a.createElement(h.a,{className:"mr-3",onClick:G},"Cancel"),c.a.createElement(h.a,{onClick:function(){var e=T.id,a=T.title,t=T.coverImage,n=T.cardMembers,l=void 0===n?[]:n,r=T.labels,c=void 0===r?[]:r,m=T.description,i=T.attachments,s=void 0===i?[]:i,o=T.comments,d=void 0===o?[]:o,u=T.listId,b=T.boardId,f={id:e,title:a,coverImage:t,members:l.map((function(e){return e.id})),labels:c.map((function(e){return e.id})),description:m,attachments:s,comments:d};M(Object(P.D)(b,u,f)),G()},variant:"contained",color:"primary"},"Save"))))},D=t(1387),M=t(2132),L=t(704),B=["palette"],K=Object(L.a)((function(e){e.palette,Object(l.a)(e,B);return{root:{width:"32px",height:"6px",borderRadius:"6px",overflow:"hidden",marginRight:"8px"}}})),R=function(e){var a=e.color,t=void 0===a?"primary":a,n=K();return c.a.createElement("div",{className:"bg-".concat(t," ").concat(n.root)})},_=function(e){var a=e.card,t=a.title,n=a.members,l=void 0===n?[]:n,r=a.labels,m=void 0===r?[]:r,s=a.coverImage,d=a.attachments,u=a.comments,b=Object(A.d)((function(e){return e.scrumboard})),f=b.memberList,p=void 0===f?[]:f,E=b.labelList,v=void 0===E?[]:E,N=l.map((function(e){return p.find((function(a){return a.id===e}))})),x=m.map((function(e){return v.find((function(a){return a.id===e}))}));return c.a.createElement("div",{className:"scrum-board-card"},s&&c.a.createElement("img",{className:"border-radius-4 w-full",src:s,alt:"stair"}),c.a.createElement("div",{className:"px-4 py-3"},0!==x.length&&c.a.createElement("div",{className:"flex mb-3 font-medium"},x.map((function(e){return e&&c.a.createElement(R,{key:e.id,color:e.color})}))),c.a.createElement("h6",{className:"m-0 font-medium"},t),(0!==u.length||0!==d.length||0!==l.length)&&c.a.createElement("div",{className:"flex items-center justify-between mt-3 button-group text-small"},c.a.createElement("div",{className:"flex"},0!==u.length&&c.a.createElement(h.a,{size:"small"},c.a.createElement(i.a,{className:"mr-1 text-small",fontSize:"small"},"chat"),c.a.createElement("span",null,u.length)),0!==d.length&&c.a.createElement(h.a,{size:"small"},c.a.createElement(i.a,{className:"mr-1 text-small",fontSize:"small"},"attach_file"),c.a.createElement("span",null,d.length))),c.a.createElement("div",{className:"flex relative face-group"},N.map((function(e){return e&&c.a.createElement(o.a,{key:e.id,className:"avatar",src:e.avatar})}))))))},W=function(e){var a=e.data,t=e.handleCardClick,l=Object(r.useState)(!1),s=Object(b.a)(l,2),o=s[0],d=s[1],u=Object(r.useState)(!1),p=Object(b.a)(u,2),E=p[0],v=p[1],N=Object(r.useState)(""),x=Object(b.a)(N,2),g=x[0],O=x[1],C=Object(r.useState)(""),w=Object(b.a)(C,2),z=w[0],T=w[1],L=Object(A.c)(),B=Object(A.d)((function(e){return e.scrumboard})).board,K=void 0===B?{}:B,R=function(e){var a=e.target.name,t=e.target.value;"cardTitleText"===a?"Enter"!==e.key||e.shiftKey?O(t):J():"Enter"!==e.key||e.shiftKey?T(t):W()},W=function(){L(Object(P.A)({boardId:K.id,listId:a.column.id,listTitle:z})),H(!1)},H=function(e){d(e)},F=function(e){v(e)},J=function(){""!==g.trim()&&(L(Object(P.s)({boardId:K.id,listId:a.column.id,cardTitle:g})),O(""))},U=function(){L(Object(P.t)({boardId:K.id,listId:a.column.id}))};Object(r.useEffect)((function(){var e,t=null===a||void 0===a||null===(e=a.column)||void 0===e?void 0:e.title;t&&T(t)}),[a]);var q=a.provided,G=a.snapshot,Q=a.column;return c.a.createElement(y.a,Object.assign({className:"mx-3 relative pt-2 w-288",elevation:G.isDragging?10:3,ref:q.innerRef},q.draggableProps,q.dragHandleProps,{style:Object(n.a)({},q.draggableProps.style)}),c.a.createElement(f.c,{droppableId:Q.id,direction:"vertical",type:"card"},(function(e,a){return c.a.createElement("div",{ref:e.innerRef,className:"relative"},c.a.createElement("div",{className:"flex items-center justify-between pb-2"},o?c.a.createElement(D.a,{onClickAway:function(){return H(!1)}},c.a.createElement(j.a,{className:"pl-4",size:"small",variant:"outlined",value:z,onChange:R,onKeyDown:R,name:"columnTitleText",InputProps:{endAdornment:c.a.createElement(M.a,{position:"end"},c.a.createElement(m.a,{size:"small",onClick:W},c.a.createElement(i.a,{fontSize:"small"},"done")))}})):c.a.createElement("h4",{className:"m-0 flex-grow py-1 pl-4 capitalize",onClick:function(){return H(!0)}},Q.title),c.a.createElement(S.n,{horizontalPosition:"right",menuButton:c.a.createElement(m.a,null,c.a.createElement(i.a,null,"more_vert"))},c.a.createElement(k.a,{className:"flex items-center min-w-148"},c.a.createElement(i.a,null," settings "),c.a.createElement("span",{className:"pl-4"}," Settings ")),c.a.createElement(k.a,{onClick:U,className:"flex items-center min-w-148"},c.a.createElement(i.a,null," delete "),c.a.createElement("span",{className:"pl-4"}," Delete ")))),c.a.createElement(I.a,{className:"relative h-380 px-4"},Q.cardList.map((function(e,a){return c.a.createElement(f.b,{key:e.id,draggableId:e.id,index:a,type:"card"},(function(a,l){return c.a.createElement(y.a,Object.assign({className:"mb-4 border-radius-4 bg-light-gray",elevation:l.isDragging?10:3,onClick:function(){return t(Object(n.a)(Object(n.a)({},e),{},{listId:Q.id}))},ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:Object(n.a)({},a.draggableProps.style)}),c.a.createElement(_,{card:e}))}))}))),e.placeholder)})),E?c.a.createElement(D.a,{onClickAway:function(){return F(!1)}},c.a.createElement(y.a,{className:"position-bottom border-radius-0 cursor-pointer p-4 w-full",elevation:5},c.a.createElement(j.a,{size:"small",className:"mb-3",variant:"outlined",name:"cardTitleText",value:g,fullWidth:!0,onChange:R,onKeyDown:R,InputProps:{endAdornment:c.a.createElement(M.a,{position:"end"},c.a.createElement(m.a,{size:"small",onClick:function(){return F(!1)}},c.a.createElement(i.a,{fontSize:"small"},"clear")))}}),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement(h.a,{onClick:J,variant:"contained",color:"primary"},"Add")))):c.a.createElement("div",{className:"flex"},c.a.createElement(h.a,{className:"font-medium flex-grow border-radius-0",variant:"contained",color:"primary",onClick:function(){return F(!0)}},"+ Add Card")))},H=function(e){var a=e.list,t=void 0===a?[]:a,n=e.handleAddList,l=e.handleAddNewCard,s=Object(r.useState)(null),d=Object(b.a)(s,2),u=d[0],p=d[1],E=Object(r.useState)(!1),v=Object(b.a)(E,2),N=v[0],x=v[1],g=Object(r.useState)(!1),O=Object(b.a)(g,2),k=O[0],C=O[1],w=Object(r.useState)(""),z=Object(b.a)(w,2),S=z[0],L=z[1],B=Object(A.c)(),K=Object(A.d)((function(e){return e.scrumboard})).board,R=void 0===K?{}:K,_=function(e){p(e),x(!0)},H=function(){x(!1)},F=function(e){C(e)},J=function(e){"Enter"!==e.key||e.shiftKey?L(e.target.value):(n(S),L(""))};return c.a.createElement(I.a,{className:"relative flex pb-4 w-full"},c.a.createElement(f.a,{onDragEnd:function(e){var a=e.source,t=e.destination;t&&("horizontal-droppable"===a.droppableId?B(Object(P.C)(R.id,a.index,t.index)):a.droppableId===t.droppableId?B(Object(P.B)(R.id,a.droppableId,a.index,t.index)):B(Object(P.z)(R.id,a.droppableId,t.droppableId,a,t)))}},c.a.createElement(f.c,{droppableId:"horizontal-droppable",direction:"horizontal"},(function(e){return c.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"flex"}),t.map((function(e,a){return c.a.createElement(f.b,{key:e.id,draggableId:e.id,index:a,type:"column"},(function(a,t){return c.a.createElement(W,{data:{provided:a,snapshot:t,column:e},handleCardClick:_,handleDialogClose:H,handleAddNewCard:l})}))})),e.placeholder)}))),c.a.createElement("div",null,k?c.a.createElement(D.a,{onClickAway:function(){return F(!1)}},c.a.createElement(y.a,{className:"mx-3 border-radius-0 cursor-pointer p-4 min-w-288",elevation:3},c.a.createElement(j.a,{size:"small",className:"mb-3",variant:"outlined",name:"columnTitle",value:S,fullWidth:!0,onChange:J,onKeyDown:J,InputProps:{endAdornment:c.a.createElement(M.a,{position:"end"},c.a.createElement(m.a,{size:"small",onClick:function(){return F(!1)}},c.a.createElement(i.a,{fontSize:"small"},"clear")))}}),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement(h.a,{onClick:function(){n(S),L("")},variant:"contained",color:"primary"},"Add")))):c.a.createElement(y.a,{className:"mx-3 cursor-pointer flex items-center py-4 px-4 bg-light-gray min-w-288",elevation:3,onClick:function(){return F(!0)}},c.a.createElement(o.a,{className:"size-24 bg-error"},"+"),c.a.createElement("span",{className:"ml-8 font-medium"},"Add List"))),N&&c.a.createElement(T,{card:u,open:N,handleClose:H}))},F=t(31),J=t(46),U=t(5),q=["palette"],G=Object(L.a)((function(e){e.palette,Object(l.a)(e,q);return{avatar:{border:"2px solid white"}}}));a.default=function(){var e=Object(A.d)((function(e){return e.scrumboard})),a=e.board,t=void 0===a?{}:a,l=e.memberList,b=void 0===l?[]:l,f=Object(F.i)().id,p=Object(A.c)(),E=G();Object(r.useEffect)((function(){p(Object(P.y)(f)),p(Object(P.x)()),p(Object(P.w)())}),[f,p]);var v=function(e){var a=e.target.value,n=t.members,l=t.id;n.some((function(e){return e.id===a}))?p(Object(P.u)({boardId:l,memberId:a})):p(Object(P.q)({boardId:l,memberId:a}))},N=t.members,x=void 0===N?[]:N,h=t.title,g=t.list,j=void 0===g?[]:g;return c.a.createElement("div",{className:"scrum-board m-sm-30"},c.a.createElement("div",{className:"flex flex-wrap items-center justify-between mb-4"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(J.b,{to:"/scrum-board"},c.a.createElement(m.a,null,c.a.createElement(i.a,null,"arrow_back"))),c.a.createElement("h5",{className:"m-0 ml-2 capitalize"},h),c.a.createElement(m.a,{className:"ml-2"},c.a.createElement(i.a,null,"star_outline"))),c.a.createElement("div",{className:"flex relative mr-2 items-center"},x.map((function(e,a){return c.a.createElement(s.a,{key:a,title:e.name,fontSize:"large"},c.a.createElement(o.a,{className:Object(U.default)("h-24 w-24 ml--2",E.avatar),src:e.avatar}))})),c.a.createElement(S.n,{horizontalPosition:"right",shouldCloseOnItemClick:!1,menuButton:c.a.createElement(s.a,{title:"Add",fontSize:"large"},c.a.createElement(o.a,{className:Object(U.default)("h-24 w-24 ml--2 cursor-pointer",E.avatar)},"+"))},b.map((function(e){return c.a.createElement(d.a,{className:"ml-0",key:e.id,control:c.a.createElement(u.a,{checked:x.some((function(a){return a.id===e.id})),onChange:v,value:e.id}),label:c.a.createElement("div",{className:"flex items-center"},c.a.createElement(o.a,{src:e.avatar,className:"size-24"}),c.a.createElement("span",{className:"ml-3"},e.name))})}))))),c.a.createElement("div",{className:"relative"},c.a.createElement(H,{list:j,handleAddList:function(e){""!==e&&p(Object(P.p)({boardId:f,listTitle:e}))},handleAddNewCard:function(e){p(Object(P.s)(Object(n.a)({boardId:f},e)))}})))}}}]);